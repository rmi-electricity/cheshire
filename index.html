<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="BSD 3-Clause License" href="LICENSE.html">
        <link rel="prefetch" href="_static/Small_PNG-RMI_logo_PrimaryUse.PNG" as="image">
        <link rel="prefetch" href="_static/Small_PNG-RMI_logo_PrimaryUse_White_Horizontal.PNG" as="image">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Cheshire 0.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=b1990d62" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Cheshire 0.4 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/Small_PNG-RMI_logo_PrimaryUse.PNG" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/Small_PNG-RMI_logo_PrimaryUse_White_Horizontal.PNG" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Cheshire 0.4 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">Licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="autoapi/index.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="autoapi/cheshire/index.html">cheshire</a><input aria-label="Toggle navigation of cheshire" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="autoapi/cheshire/_version/index.html">cheshire._version</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoapi/cheshire/cli/index.html">cheshire.cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoapi/cheshire/dummy/index.html">cheshire.dummy</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoapi/cheshire/dummy_pudl/index.html">cheshire.dummy_pudl</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/rmi-electricity/cheshire/blob/main/docs/index.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/rmi-electricity/cheshire/edit/main/docs/index.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="the-rmi-python-project-template">
<h1>The RMI Python Project Template<a class="headerlink" href="#the-rmi-python-project-template" title="Link to this heading">¶</a></h1>
<p>This template repository helps make new Python projects easier to set up and more
uniform. It contains a lot of infrastructure surrounding a minimal Python package named
<code class="docutils literal notranslate"><span class="pre">cheshire</span></code> (the cat who isn’t entirely there…). This template is mostly a lightly
modified copy of Catalyst Cooperative’s
<a class="reference external" href="https://github.com/catalyst-cooperative/cheshire">cheshire</a> but with alterations
for private work and alternative tools.</p>
<p>The goal of this template is to provide a uniform starting point for Python projects,
with reasonable configurations for a suite of common tools. It is by no means
comprehensive but generally errs on including a kind of tool rather excluding it. In
other words, it includes a lot of things that are not necessary and likely not worth
getting to work for a basic Python project.</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>Please read this whole getting started section before beginning.</p>
<section id="setup-your-development-machine-using-uv">
<h3>Setup your development machine using uv<a class="headerlink" href="#setup-your-development-machine-using-uv" title="Link to this heading">¶</a></h3>
<p>We recommend using <a class="reference external" href="https://github.com/astral-sh/uv">uv</a> to manage python
installations, virtual environments, and packages instead of conda or mamba. If you
don’t have <a class="reference external" href="https://github.com/astral-sh/uv">uv</a> installed you can install it using
homebrew with the instructions below. More information and alternative installation
instructions <a class="reference external" href="https://docs.astral.sh/uv/getting-started/installation/">here</a>.</p>
<div class="highlight-zsh notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>uv
uv<span class="w"> </span>python<span class="w"> </span>install<span class="w"> </span><span class="m">3</span>.13
uv<span class="w"> </span>tool<span class="w"> </span>update-shell
</pre></div>
</div>
<p>There are a number of development tools that we recommend using and installing globally
using uv. That way they can be installed once and used by multiple projects. The
instructions below assume these tools are installed as follows.</p>
<div class="highlight-zsh notranslate"><div class="highlight"><pre><span></span>uv<span class="w"> </span>tool<span class="w"> </span>install<span class="w"> </span>tox<span class="w"> </span>--with<span class="w"> </span>tox-uv
uv<span class="w"> </span>tool<span class="w"> </span>install<span class="w"> </span>pre-commit<span class="w"> </span>--with<span class="w"> </span>pre-commit-uv
uv<span class="w"> </span>tool<span class="w"> </span>install<span class="w"> </span>ruff
</pre></div>
</div>
<p>In the future, these tools can be upgraded by running <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">tool</span> <span class="pre">upgrade</span> <span class="pre">--all</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this repository we effectively disable uv’s locking functionality by including
<code class="docutils literal notranslate"><span class="pre">uv.lock</span></code> in <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>. This simplifies library development and dependabot.
See <a class="reference external" href="https://docs.astral.sh/uv/concepts/projects/layout/#the-lockfile">the lockfile</a>
for information on this functionality. To use this feature as it was intended,
remove <code class="docutils literal notranslate"><span class="pre">uv.lock</span></code> from <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>.</p>
</div>
</section>
<section id="create-a-new-repository-from-this-template">
<h3>Create a new repository from this template<a class="headerlink" href="#create-a-new-repository-from-this-template" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Choose a name for the new package that you are creating.</p></li>
<li><p>The name of the repository should be the same as the name of the new Python package
you are going to create. e.g. a repository at <code class="docutils literal notranslate"><span class="pre">rmi-electricity/cheshire</span></code> should
be used to define a package named <code class="docutils literal notranslate"><span class="pre">cheshire</span></code>.</p></li>
<li><p>Click the green <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">this</span> <span class="pre">template</span></code> to create a new Python project repo.
See <a class="reference external" href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template">these instructions for using a template</a>.</p></li>
<li><p>Create a release with a version tag if there isn’t one already. This is required
because various tools use it to set the version dynamically. See
<a class="reference external" href="https://docs.github.com/en/repositories/releasing-projects-on-github/managing-releases-in-a-repository">managing releases</a>
for more information.</p></li>
<li><p>Clone the new repository to your development machine.</p></li>
<li><p>Create the virtual environment by running <code class="docutils literal notranslate"><span class="pre">uv</span> <span class="pre">sync</span> <span class="pre">--extra</span> <span class="pre">dev</span> <span class="pre">--extra</span> <span class="pre">doc</span></code> in the top level of the repository.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">install</span></code> in the newly cloned repository to install the <a class="reference external" href="https://pre-commit.com/">pre-commit hooks</a> defined in <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">tox</span></code> from the top level of the repository to verify that everything is working correctly.</p></li>
</ul>
</section>
<section id="rename-the-package-and-distribution">
<h3>Rename the package and distribution<a class="headerlink" href="#rename-the-package-and-distribution" title="Link to this heading">¶</a></h3>
<p>Once your forked version of the <code class="docutils literal notranslate"><span class="pre">cheshire</span></code> package is working, you can change the
package and distribution names in your new repo to reflect the name of your package.
The <strong>package name</strong> is determined by the name of the directory under <code class="docutils literal notranslate"><span class="pre">src/</span></code> which
contains the source code, and is the name you’ll use to import the package for use in
a program, script, or notebook. E.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cheshire</span>
</pre></div>
</div>
<p>The <strong>distribution name</strong> is the name that is used to install the software using a
program like  <code class="docutils literal notranslate"><span class="pre">pip</span></code> or uv. We are using the <code class="docutils literal notranslate"><span class="pre">rmi</span></code> namespace for the
packages that we publish, so the <code class="docutils literal notranslate"><span class="pre">dispatch</span></code> package would have the distribution
name <code class="docutils literal notranslate"><span class="pre">rmi.dispatch</span></code>. The distribution name is determined by the <code class="docutils literal notranslate"><span class="pre">name</span></code> argument
under <code class="docutils literal notranslate"><span class="pre">[project]</span></code> in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>. See <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0423/"><strong>PEP 423</strong></a> for more on Python package
naming conventions. You will want to search the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file and replace
<strong>all</strong> references to <code class="docutils literal notranslate"><span class="pre">cheshire</span></code> with your package’s name.</p>
<p>The package and distribution names are used throughout the files in the template
repository, and they all need to be replaced with the name of your new package.</p>
<ul class="simple">
<li><p>Rename the <code class="docutils literal notranslate"><span class="pre">src/cheshire</span></code> directory to reflect the new package name.</p></li>
<li><p>Search for <code class="docutils literal notranslate"><span class="pre">cheshire</span></code> and replace it as appropriate everywhere.
Sometimes this will be with a distribution name like <code class="docutils literal notranslate"><span class="pre">rmi.cheshire</span></code> or <code class="docutils literal notranslate"><span class="pre">rmi-cheshire</span></code> and  sometimes this will be the importable package name <code class="docutils literal notranslate"><span class="pre">cheshire</span></code>.
You can use <code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-r</span></code> to search recursively through all of the files for the word <code class="docutils literal notranslate"><span class="pre">cheshire</span></code> at the command line, or use the search-and-replace functionality of your IDE / text editor.
(Global search in PyCharm is command+shift+f)</p></li>
</ul>
<p>Now that everything is renamed, make sure all the renaming worked properly by running
<code class="docutils literal notranslate"><span class="pre">tox</span></code> from the top level of the repository to verify that everything is working
correctly. If it passes, you can commit your new skeleton package and get to work!</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Unless you have relatively complete tests of your package, you will want to disable
<code class="docutils literal notranslate"><span class="pre">.github/workflows/bot-auto-merge.yml</span></code> by either commenting out its contents or
deleting the file. If you do this, do the same with <code class="docutils literal notranslate"><span class="pre">.github/dependabot.yml</span></code>.</p>
<p>If you leave these GitHub Actions in place with insufficient tests, GitHub might break
your package by upgrading dependencies to version that are not compatible with your
package.</p>
</div>
</section>
</section>
<section id="what-this-template-provides">
<h2>What this template provides<a class="headerlink" href="#what-this-template-provides" title="Link to this heading">¶</a></h2>
<section id="python-package-skeleton">
<h3>Python Package Skeleton<a class="headerlink" href="#python-package-skeleton" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Dummy code for a skeleton python package with the following structure:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">src</span></code> directory contains the code that will be packaged and deployed on the
user system. That code is in a directory with the same name as the package.</p></li>
<li><p>A simple python module (<code class="docutils literal notranslate"><span class="pre">dummy.py</span></code>), and a separate module providing a command
line interface to that module (<code class="docutils literal notranslate"><span class="pre">cli.py</span></code>) are included as examples.</p></li>
<li><p>A module (<code class="docutils literal notranslate"><span class="pre">dummy_pudl.py</span></code>) that includes an example of how to access PUDL data.</p></li>
<li><p>Any files in the <code class="docutils literal notranslate"><span class="pre">src/package_data/</span></code> directory will also be packaged and deployed.</p></li>
</ul>
</li>
<li><p>Instructions for <code class="docutils literal notranslate"><span class="pre">pip</span></code> on how to install the package and configurations for a
number of tools in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> including the following:</p>
<ul>
<li><p>Package dependencies, including “extras” – additional optional
package dependencies that can be installed in special circumstances: <code class="docutils literal notranslate"><span class="pre">dev</span></code>,
<code class="docutils literal notranslate"><span class="pre">doc`</span></code>, and <code class="docutils literal notranslate"><span class="pre">tests</span></code>.
Note: if you follow the instructions above and install <code class="docutils literal notranslate"><span class="pre">ruff</span></code>, <code class="docutils literal notranslate"><span class="pre">tox</span></code>, and <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> globally, you do not need to install the <code class="docutils literal notranslate"><span class="pre">tests</span></code> extras yourself.</p></li>
<li><p>The CLI deployed using a <code class="docutils literal notranslate"><span class="pre">console_script</span></code> entrypoint.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setuptools_scm</span></code> to obtain the package’s version directly from <code class="docutils literal notranslate"><span class="pre">git</span></code> tags.</p></li>
<li><p>What files (beyond the code in <code class="docutils literal notranslate"><span class="pre">src/</span></code> are included in or excluded from the package
on the user’s system.</p></li>
<li><p>Configurations for <code class="docutils literal notranslate"><span class="pre">ruff</span></code>, <code class="docutils literal notranslate"><span class="pre">doc8</span></code>, and <code class="docutils literal notranslate"><span class="pre">rstcheck</span></code> described in the
<a class="reference internal" href="#code-formatting-and-linters">Code Formatting and Linters</a> section below.</p></li>
</ul>
</li>
</ul>
</section>
<section id="testing-tools">
<h3>Testing Tools<a class="headerlink" href="#testing-tools" title="Link to this heading">¶</a></h3>
<section id="pytest-testing-framework">
<h4>Pytest Testing Framework<a class="headerlink" href="#pytest-testing-framework" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>A skeleton <a class="reference external" href="https://docs.pytest.org/">pytest</a> testing setup is included in the
<code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory.</p></li>
<li><p>Session-wide test fixtures, additional command line options, and other pytest
configuration can be added to <code class="docutils literal notranslate"><span class="pre">tests/conftest.py</span></code></p></li>
<li><p>Exactly what pytest commands are run during continuous integration is controlled by
Tox.</p></li>
</ul>
</section>
<section id="test-coordination-with-tox">
<h4>Test Coordination with Tox<a class="headerlink" href="#test-coordination-with-tox" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>We define several different test environments for use with Tox in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> in the sections starting with <code class="docutils literal notranslate"><span class="pre">[tool.tox</span></code>.</p></li>
<li><p><a class="reference external" href="https://tox.wiki/en/latest/">Tox</a> is used to run pytest in an isolated Python virtual environment.</p></li>
<li><p>We also use Tox to coordinate running the code linters and building the documentation.</p></li>
</ul>
</section>
<section id="test-coverage">
<h4>Test Coverage<a class="headerlink" href="#test-coverage" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>We use Tox, pytest, and <a class="reference external" href="https://coverage.readthedocs.io">coverage</a>
to measure and record what percentage of our codebase is being tested, and to
identify which modules, functions, and individual lines of code are not being
exercised by the tests.</p></li>
<li><p>When you run <code class="docutils literal notranslate"><span class="pre">tox</span></code> a summary of the test coverage will be printed at the end of
the tests (assuming they succeed).</p></li>
</ul>
<p>See <a class="reference internal" href="#github-actions">GitHub Actions</a> for additional tools that track coverage statistics.</p>
</section>
</section>
<section id="code-quality-tools">
<h3>Code Quality Tools<a class="headerlink" href="#code-quality-tools" title="Link to this heading">¶</a></h3>
<section id="git-pre-commit-hooks">
<h4>Git Pre-commit Hooks<a class="headerlink" href="#git-pre-commit-hooks" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>A variety of sanity checks are defined as git pre-commit hooks – they run any time
you try to make a commit, to catch common issues before they are saved. Many of these
hooks are taken from the excellent <a class="reference external" href="https://pre-commit.com/">pre-commit project</a>.</p></li>
<li><p>The hooks are configured in <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code>, see
<a class="reference internal" href="#code-formatting-and-linters">Code Formatting and Linters</a> for details.</p></li>
<li><p>For them to run automatically when you try to make a commit, you <strong>must</strong> install the
pre-commit hooks in your cloned repository first. This only has to be done once by
running <code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">install</span></code> in your local repo.</p></li>
<li><p>These checks are run as part of our GitHub automations, which will fail if the
pre-commit hooks fail.</p></li>
</ul>
</section>
<section id="additional-comments-on-using-pre-commit">
<h4>Additional comments on using Pre-commit<a class="headerlink" href="#additional-comments-on-using-pre-commit" title="Link to this heading">¶</a></h4>
<p>Most git GUI tools work with pre-commit but don’t work that well. The terminal based
<code class="docutils literal notranslate"><span class="pre">git</span></code> is usually the safer choice. See
<a class="reference external" href="https://github.com/rmi-electricity/.github-private/blob/main/profile/notes_on_git.md">notes on git for</a>
for recommendations and instructions.</p>
</section>
<section id="code-formatting-and-linters">
<h4>Code Formatting and Linters<a class="headerlink" href="#code-formatting-and-linters" title="Link to this heading">¶</a></h4>
<p>To avoid the tedium of meticulously formatting all the code ourselves, and to ensure a
standard style of formatting and syntactical idioms across the codebase, we use several
automatic code formatters, which run as pre-commit hooks. The following formatters are
included in the template <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.astral.sh/ruff/formatter/">Deterministic formatting with ruff (similar to black)</a></p></li>
<li><p>Fix some of the issues found by <a class="reference external" href="https://github.com/charliermarsh/ruff">ruff</a>,
including to:</p>
<ul>
<li><p>Use only absolute import paths</p></li>
<li><p>Standardize the sorting of imports</p></li>
<li><p>Remove unnecessary f-strings</p></li>
<li><p>Upgrade type hints for built-in types</p></li>
<li><p>Upgrade Python syntax</p></li>
</ul>
</li>
<li><p>Clear outputs in Jupyter notebooks using <a class="reference external" href="https://github.com/kynan/nbstripout">nbstripout</a>.</p></li>
</ul>
<p>To catch additional errors before commits are made, and to ensure uniform formatting
across the codebase, we also use <a class="reference external" href="https://github.com/charliermarsh/ruff">ruff</a>  as
a linter, as well as other tools, to identify issues in code and documentation files.
They don’t change the files, but they will raise an error or warning when something
doesn’t look right so you can fix it.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/charliermarsh/ruff">ruff</a> is an extremely fast Python linter,
written in Rust that replaces a number of other tools including:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/PyCQA/flake8">flake8</a> is an extensible Python linting
framework, with a bunch of plugins.</p></li>
<li><p><a class="reference external" href="https://bandit.readthedocs.io/en/latest/">bandit</a> identifies code patterns known
to cause security issues.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://github.com/pycqa/doc8">doc8</a> and <a class="reference external" href="https://github.com/myint/rstcheck">rstcheck</a> look for formatting issues in our docstrings
and the standalone ReStructuredText (RST) files under the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> directory.</p></li>
</ul>
<p>See for
<a class="reference external" href="https://github.com/rmi-electricity/.github-private/blob/main/profile/notes_on_tests_and_linters.md">tests and linters</a>
some advice on how to avoid getting bogged down making the linter happy.</p>
</section>
</section>
<section id="documentation-tools">
<h3>Documentation Tools<a class="headerlink" href="#documentation-tools" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>We build our documentation using <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>.</p></li>
<li><p>Standalone docs files are stored under the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> directory, and the Sphinx
configuration is there in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> as well.</p></li>
<li><p>We use <a class="reference external" href="https://sphinx-autoapi.readthedocs.io/en/latest/">Sphinx AutoAPI</a> to
convert the docstrings embedded in the python modules under <code class="docutils literal notranslate"><span class="pre">src/</span></code> into additional
documentation automatically.</p></li>
<li><p>The top level documentation index simply includes this <code class="docutils literal notranslate"><span class="pre">README.rst</span></code>, the
<code class="docutils literal notranslate"><span class="pre">LICENSE.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">code_of_conduct.rst</span></code> files are similarly referenced. The only
standalone documentation file under <code class="docutils literal notranslate"><span class="pre">docs/</span></code> right now is the <code class="docutils literal notranslate"><span class="pre">release_notes.rst</span></code>.</p></li>
<li><p>Unless you’re debugging something specific, the docs should always be built using
<code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">docs</span></code> as that will lint the source files using <code class="docutils literal notranslate"><span class="pre">doc8</span></code> and <code class="docutils literal notranslate"><span class="pre">rstcheck</span></code>,
and wipe previously generated documentation to build everything from scratch. The docs
are also rebuilt as part of the normal Tox run.</p></li>
</ul>
<section id="documentation-publishing">
<h4>Documentation Publishing<a class="headerlink" href="#documentation-publishing" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>We use the <a class="reference external" href="https://pages.github.com">GitHub Pages</a> service to host our
documentation.</p></li>
<li><p>When you open a PR or push to <code class="docutils literal notranslate"><span class="pre">dev</span></code> or <code class="docutils literal notranslate"><span class="pre">main</span></code>, the associated
documentation is automatically built and stored in a <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p></li>
<li><p>To make the documentation available, go to the repositories settings. Select
‘Pages’ under ‘Code and automation’, select ‘Deploy from a branch’ and then
select the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch and then <code class="docutils literal notranslate"><span class="pre">/(root)</span></code>, and click save.</p></li>
<li><p>The documentation should then be available at <a class="reference external" href="https://rmi-electricity.github.io">https://rmi-electricity.github.io</a>/&lt;repo-name&gt;/.</p></li>
</ul>
</section>
</section>
<section id="github-automations">
<h3>GitHub Automations<a class="headerlink" href="#github-automations" title="Link to this heading">¶</a></h3>
<section id="dependabot">
<h4>Dependabot<a class="headerlink" href="#dependabot" title="Link to this heading">¶</a></h4>
<p>We use GitHub’s <a class="reference external" href="https://docs.github.com/en/code-security/dependabot/dependabot-version-updates">Dependabot</a>
to automatically update the allowable versions of packages we depend on. This applies
to both the Python dependencies specified in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> and to the versions of
the <a class="reference external" href="https://docs.github.com/en/actions">GitHub Actions</a> that we employ. The
dependabot behavior is configured in <code class="docutils literal notranslate"><span class="pre">.github/dependabot.yml</span></code>.</p>
<p>For Dependabot’s PRs to automatically get merged, your repository must have access to
the correct organization secrets and the <code class="docutils literal notranslate"><span class="pre">rmi-electricity</span> <span class="pre">auto-merge</span> <span class="pre">Bot</span></code> GitHub App.
Contact Alex Engel for help setting this up.</p>
</section>
<section id="github-actions">
<h4>GitHub Actions<a class="headerlink" href="#github-actions" title="Link to this heading">¶</a></h4>
<p>Under <code class="docutils literal notranslate"><span class="pre">.github/workflows</span></code> are YAML files that configure the <a class="reference external" href="https://docs.github.com/en/actions">GitHub Actions</a> associated with the repository. We use GitHub
Actions to:</p>
<ul class="simple">
<li><p>Run continuous integration using <a class="reference external" href="https://tox.wiki">tox</a> on several different
versions of Python.</p></li>
<li><p>Build and publish docs to GitHub Pages.</p></li>
<li><p>Merge passing dependabot PRs.</p></li>
<li><p>When the tests are run via the <code class="docutils literal notranslate"><span class="pre">tox-pytest</span></code> workflow in GitHub Actions, the test
coverage data from the <code class="docutils literal notranslate"><span class="pre">coverage.info</span></code> output is uploaded to a service called
<a class="reference external" href="https://coveralls.io">Coveralls</a> that saves historical data about our test
coverage, and provides a nice visual representation of the data – identifying which
subpackages, modules, and individual lines of are being tested. For example, here are
the results
<a class="reference external" href="https://coveralls.io/github/rmi-electricity/cheshire">for the cheshire repo</a>.</p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="LICENSE.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">BSD 3-Clause License</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, RMI, CC-BY-4.0
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/rmi-electricity/cheshire" aria-label="GitHub">
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
        </svg>
    </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">The RMI Python Project Template</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#setup-your-development-machine-using-uv">Setup your development machine using uv</a></li>
<li><a class="reference internal" href="#create-a-new-repository-from-this-template">Create a new repository from this template</a></li>
<li><a class="reference internal" href="#rename-the-package-and-distribution">Rename the package and distribution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-this-template-provides">What this template provides</a><ul>
<li><a class="reference internal" href="#python-package-skeleton">Python Package Skeleton</a></li>
<li><a class="reference internal" href="#testing-tools">Testing Tools</a><ul>
<li><a class="reference internal" href="#pytest-testing-framework">Pytest Testing Framework</a></li>
<li><a class="reference internal" href="#test-coordination-with-tox">Test Coordination with Tox</a></li>
<li><a class="reference internal" href="#test-coverage">Test Coverage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#code-quality-tools">Code Quality Tools</a><ul>
<li><a class="reference internal" href="#git-pre-commit-hooks">Git Pre-commit Hooks</a></li>
<li><a class="reference internal" href="#additional-comments-on-using-pre-commit">Additional comments on using Pre-commit</a></li>
<li><a class="reference internal" href="#code-formatting-and-linters">Code Formatting and Linters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation-tools">Documentation Tools</a><ul>
<li><a class="reference internal" href="#documentation-publishing">Documentation Publishing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#github-automations">GitHub Automations</a><ul>
<li><a class="reference internal" href="#dependabot">Dependabot</a></li>
<li><a class="reference internal" href="#github-actions">GitHub Actions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=4d24ce85"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>